<!DOCTYPE html>
<html lang="es-CL" xml:lang="es-CL">
  <head>
    <title>Estadística Correlacional</title>
    <meta charset="utf-8" />
    <meta name="author" content=".small[Andreas Laffert    Departamento de Sociología - UCH   ]" />
    <script src="site_libs/header-attrs-2.20/header-attrs.js"></script>
    <link href="site_libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="site_libs/tile-view-0.2.6/tile-view.js"></script>
    <link href="site_libs/animate.css-3.7.2/animate.xaringan.css" rel="stylesheet" />
    <script src="site_libs/fabric-4.3.1/fabric.min.js"></script>
    <link href="site_libs/xaringanExtra-scribble-0.0.1/scribble.css" rel="stylesheet" />
    <script src="site_libs/xaringanExtra-scribble-0.0.1/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30,"palette":[]}) })</script>
    <script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="custom_andreas.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: front










.pull-left-wide[
# Estadística Correlacional]

.pull-right-narrow[![:scale 85%](logo-correlacional-transp.png)]

## Asociación, inferencia y reporte

----
.pull-left[

## Andreas Laffert
## Sociología FACSO - UChile
## 2do Sem 2023 
## [.orange[correlacional.netlify.com]](https:/correlacional.netlify.com)
]

.pull-right-narrow[
.center[
.content-block-gray[
## Sesión 7: 
## .orange[Inferencia 3: Pruebas de hipótesis para variables cuantitativas]]
]
]
---
layout: true
class: animated, fadeIn

---
class: roja

## .yellow[Objetivos de la sesión de hoy]


### 1. Comprender la lógica del contraste de hipótesis

### 2. Utilizar intervalos de confianza como prueba de hipótesis

### 3. Aplicar prueba T de Student para diferencias de medias

---
class: roja right

.pull-left-narrow[
# .black[Contenidos]
]

&lt;br&gt; 
.pull-right-wide[

### .yellow[1- Resumen sesión anterior]

### 2- Intervalos de confianza como prueba de hipótesis

### 3- Lógica del contraste de hipótesis

### 4- Prueba T de Student para diferencia de medias

]
---

# Inferencia

.center[

.pull-left-narrow[

&lt;br&gt;

![:scale 100%](https://correlacional.netlify.app/files/dist_muestral.png)
]
]

.pull-right-wide[



- Llamamos .bold[inferencia] al ejercicio de .bold[extrapolar] determinadas estimaciones .green[(estadístico)] de una muestra a una población más grande .red[(parámetro)].

{{content}}

]

--

- **¿En qué medida podemos hacer inferencias desde nuestra muestra a la población?**

{{content}}

--

- Un concepto central es la probabilidad de **ERROR**


---
# Distribución muestral

.box-inv-4.medium.sp-after[
Es la distribución de una estimación (por ej. `\(\bar{X}\)` de IQ) en base a todas las posibles muestras que podemos obtener de una población.

]
--

.mlarge[
Si en cada muestra calculamos `\(\bar{X}\)`, veremos que varía de una muestra a otra. Estos .bold[posibles valores del estadístico constituyen su distribución muestral].]


.center[![:scale 78%](muestral.png)]

---
# Distribución muestral y error estándar


.pull-left-narrow[

.mlarge[

Pero, trabajar con muestras implica que siempre tenemos **error**.

- Caso canónico es el _promedio muestral_, para el cual sabemos que: `\(\bar{X} \sim \text{Normal}(\mu,\frac{\sigma}{\sqrt{n}})\)`


- La desviación estándar del **estimador** (en este caso, `\(\frac{\sigma}{\sqrt{n}}\)` ) es lo que denominamos **error estándar (SE)**

]
]
--
.pull-right-wide[



![](https://multivariada.netlify.app/slides/images/se_3.png)
]
---

# Teorema del límite central

.medium[
Si tengo **una sola muestra**, pero esta es lo suficientemente grande (.bold[N] &gt; 30):]

--
.pull-left[

.content-box-red[
.medium[
La .red[distribución muestral] del `\(\bar{X}\)` se aproxima a una distribución normal con:

`\(\bar{X} \sim \text{N}({\mu}_\bar{X},{\sigma}_\bar{X})\)`

 - `\(\mu\)` = promedio de la población
 - `\(\sigma\)` = desviación estándar de la población

]
]
]

--
.pull-right[

.content-box-yellow[

.medium[



La .red[desviación estándar de los promedios] (error estándar) equivale a:

`$$\sigma_{\bar{X}}=SE(error estándar)=\frac{s}{\sqrt{N}}$$`

 - `\(s\)` = desviación estándar de la muestra
 - `\(N\)` = tamaño de la muestra
]

]


]


---
# Inferencias

¿Cómo podemos **inferir** a la población en situaciones de **incertidumbre**?:


.center[![:scale 100%](esquema1.drawio.png)]



---
# Intervalos de confianza I

.pull-left-narrow[
.medium[

- Nuestro promedio muestral `\(\bar{x}\)` posee una distribución normal con una desviación estandar = SE (error estándar)

- Esto nos permite estimar probabilidades de ocurrencia basados en los valores de la curva normal

]
]
.pull-right-wide[
.center[![:scale 95%](https://multivariada.netlify.app/slides/images/normal.png)]]


---
# Intervalos de confianza II

.pull-left-wide[
.center[![:scale 85%](https://multivariada.netlify.app/slides/images/normal.png)]]


.pull-right-narrow[
.medium[

- Por ejemplo, un intervalo de confianza de `\(\bar{x}\pm1.96SE\)` abarca aproximadamente el 95% de los valores probables

- En este caso, puedo decir que el promedio se encuentra en un rango de valores con un .red[nivel de confianza] de 95%


]
]


---
.center[
![:scale 90%](https://github.com/mebucca/ad2-sol114/blob/master/slides/class_11/michael.gif?raw=true)
]
---
# Intervalos de confianza II

Ejemplo: Si quisiera conocer el `\(\mu\)` de ingresos de **todas las personas** ocupadas en Chile, basta con obtener la _estimación puntual_ de la muestra... Pero,

--
.content-box-red[
.red[
¿cómo sabemos si dicha estimación es .bold.green[buena]?

¿qué tan .bold.green[confiad_s] estamos de que .bold.green[capturamos] el verdadero parámetro poblacional?
]
]
---
# Intervalos de confianza III
.box-4.sp-after-half[Un rango de valores plausibles que pueden contener el verdadero parámetro poblacional]

.pull-left-narrow[
.center[![:scale 70%](red-pre.png)]]

.pull-right-wide[
.center[![:scale 60%](red.png)]]

---

## Ejemplo: intervalo de confianza para la media

.pull-left[

Tenemos estos datos de ingresos (ESI 2021):

&lt;table class="table table-striped" style="width: auto !important; "&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;font-weight: bold;"&gt; Estadístico &lt;/th&gt;
   &lt;th style="text-align:center;font-weight: bold;"&gt; Valor &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; media &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 681039.368 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; se &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 7385.951 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

--
.pull-right[

Sabemos que un IC para `\(\mu\)` y `\(SE\)` poblacional desconocidas en una muestra representativa es:

 `$$\bar{X}\pm Z_{\alpha/2} * \frac{s}{\sqrt{N}}$$`


]
--

.pull-right[

Si cálculamos con un 95% de confianza...

]

---
## Ejemplo: intervalo de confianza para la media

Cálculo directo en `R`:

.medium[

```r
esi_pond %&gt;% 
  summarise(media = survey_mean(ing_t_p, vartype = "ci", levels = 0.95, na.rm=T))
```

```
# A tibble: 1 × 3
    media media_low media_upp
    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 681039.   666563.   695516.
```

]

- Tenemos que, .red[con un 95% de confianza], el promedio de ingresos se encuentra entre 666.563 y 695.516

---
## Ejemplo: intervalo de confianza para la media


imagen

---
# ¿Confianza en qué?

- bajo esta lógica, la confianza está en que si tuvieramos la posibilidad de extraer múltiples muestras, el 95% de las veces nuestro intervalo contendría el promedio

- o que existe un 5% de probabilidad de error, es decir, que el promedio de la muestra no sea el de la población

- o que las chances de error son 1 de 20 

---

.center[![:scale 95%](95_ci.png)]

---
class: roja right

.pull-left-narrow[
# .black[Contenidos]
]

&lt;br&gt; 
.pull-right-wide[

### 1- Resumen sesión anterior

### .yellow[2- Intervalos de confianza como prueba de hipótesis]

### 3- Lógica del contraste de hipótesis

### 4- Prueba T de Student para diferencia de medias

]
---

## Intervalos de confianza como pruebas de hipótesis I

Si .green.bold[no hay superposición de intervalos, hay  diferencias poblacionales] entre los grupos que estamos comparando.

--


Por ejemplo, veamos la distribución del ingreso de las personas ocupadas según sexo:


&lt;table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;font-weight: bold;"&gt; sexo &lt;/th&gt;
   &lt;th style="text-align:center;font-weight: bold;"&gt; media &lt;/th&gt;
   &lt;th style="text-align:center;font-weight: bold;"&gt; se &lt;/th&gt;
   &lt;th style="text-align:center;font-weight: bold;"&gt; low &lt;/th&gt;
   &lt;th style="text-align:center;font-weight: bold;"&gt; upp &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; Hombres &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 749045.5 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 11419.621 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 726662.7 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 771428.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; Mujeres &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 586178.4 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 8595.781 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 569330.5 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 603026.4 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---
## Intervalos de confianza como pruebas de hipótesis II


--
.medium[
Podemos decir que, con un 95%, existen diferencias estádisticamente significativas en el promedio de ingresos entre hombres y mujeres.
]
---
## Intervalos de confianza como pruebas de hipótesis III

- OJO, si los intervalos sí se superponen, no podemos decir que no hay diferencias poblacionales... 


- Aún existe la posibilidad de que existan diferencias entre grupos, para esto existen las pruebas de hipótesis.

---

class: roja right

.pull-left-narrow[
# .black[Contenidos]
]

&lt;br&gt; 
.pull-right-wide[

### 1- Resumen sesión anterior

### 2- Intervalos de confianza como prueba de hipótesis

### .yellow[3- Lógica del contraste de hipótesis]

### 4- Prueba T de Student para diferencia de medias

]

---
# Inferencias

¿Cómo podemos **inferir** a la población en situaciones de **incertidumbre**?:


.center[![:scale 100%](esquema2.drawio.png)]

---






    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://multinivel.netlify.com/docpres/xaringan_custom/macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "dracula",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
.logo {
  background-image: url(images/COES_Logo_sello1.png);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 17.8em;
  right: 31.8em;
  width: 80px;
  height: 50px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    // ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
